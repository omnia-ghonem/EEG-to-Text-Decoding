{% extends "base.html" %}

{% block content %}
<section>
    <h2>Results</h2>
    <div class="rectangle">
        <h3>BART Prediction</h3>
        <p>{{ bart_prediction }}</p>
        <button onclick="playAudio('{{ bart_prediction|e }}')" type="button" aria-label="Play BART prediction">
            <img src="/static/icons/man_voice_icon.png" alt="Play voice" />
        </button>
    </div>
    <div class="rectangle">
        <h3>GPT-4 Refined</h3>
        <p>{{ gpt_refined }}</p>
        <button onclick="playAudio('{{ gpt_refined|e }}')" type="button" aria-label="Play BART prediction">
            <img src="/static/icons/man_voice_icon.png" alt="Play voice" />
        </button>
    </div>
    <a href="/index">Go back</a>
</section>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('audio')) {
            const audioFile = urlParams.get('audio');
            const container = document.getElementById('audio-container');
            container.innerHTML = `
                <div class="file-item">
                    <p>${audioFile}</p>
                    <audio controls>
                        <source src="/static/${audioFile}" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                </div>
            `;
        }
    </script>
{% endblock %}
