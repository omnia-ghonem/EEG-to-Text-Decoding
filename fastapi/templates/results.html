{% extends "base.html" %}

{% block content %}
<section>
    <h2>Results</h2>
    <div class="rectangle">
        <h3>BART Prediction</h3>
        <p>{{ bart_prediction }}</p>
        <form action="/speak" method="get">
            <!-- Hidden input to pass the bart_prediction -->
            <input type="hidden" name="sentence" value="{{ bart_prediction }}">
            <button type="submit">
            <img src="/static/icons/man_voice_icon.png" alt="Play voice" />
            </button>
        </form>

    </div>
    <div class="rectangle">
        <h3>GPT-4 Refined</h3>
        <p>{{ gpt_refined }}</p>
        <form action="/speak" method="get">
            <!-- Hidden input to pass the bart_prediction -->
            <input type="hidden" name="sentence" value="{{ gpt_refined }}">
            <button type="submit">
            <img src="/static/icons/man_voice_icon.png" alt="Play voice" />
            </button>
        </form>
    </div>
    <a href="/index">Go back</a>
</section>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('audio')) {
            const audioFile = urlParams.get('audio');
            const container = document.getElementById('audio-container');
            container.innerHTML = `
                <div class="file-item">
                    <p>${audioFile}</p>
                    <audio controls>
                        <source src="/static/${audioFile}" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                </div>
            `;
        }
    </script>
{% endblock %}


